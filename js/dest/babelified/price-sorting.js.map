{"version":3,"sources":["../../src/price-sorting.js"],"names":["window","joyBricks","priceSorting","sort_div","document","querySelector","sort_asc_btn","sort_dsc_btn","slider","section_intro","slider_value","value","sort_div_display","style","display","body","scrollTop","documentElement","send_request","event","selectedButtonClass","target","className","current_action","request","XMLHttpRequest","open","onreadystatechange","readyState","status","innerHTML","responseText","priceFilter","addToCart","scroller","send","addEventListener","console","log"],"mappings":";;AAAA,CAAC,UAAUA,MAAV,EAAkB;AAEf,MAAMC,SAAS,GAAGD,MAAM,CAACC,SAAzB;;AAEAA,EAAAA,SAAS,CAACC,YAAV,GAAyB,YAAW;AAChC,QAAMC,QAAQ,GAAGC,QAAQ,CAACC,aAAT,CAAuB,aAAvB,CAAjB;AAAA,QACAC,YAAY,GAAGF,QAAQ,CAACC,aAAT,CAAuB,YAAvB,CADf;AAAA,QAEAE,YAAY,GAAGH,QAAQ,CAACC,aAAT,CAAuB,YAAvB,CAFf;AAAA,QAGAG,MAAM,GAAGJ,QAAQ,CAACC,aAAT,CAAuB,sBAAvB,CAHT;AAAA,QAIAI,aAAa,GAAGL,QAAQ,CAACC,aAAT,CAAuB,QAAvB,CAJhB;AAAA,QAMAK,YAAY,GAAGF,MAAM,CAACG,KANtB,CADgC,CAShC;;AACA,QAAMC,gBAAgB,GAAG,SAAnBA,gBAAmB;AAAA,aAAMT,QAAQ,CAACU,KAAT,CAAeC,OAAf,GAA0BV,QAAQ,CAACW,IAAT,CAAcC,SAAd,GAA0B,GAA1B,IAAiCZ,QAAQ,CAACa,eAAT,CAAyBD,SAAzB,GAAqC,GAAvE,GAA8E,OAA9E,GAAwF,MAAvH;AAAA,KAAzB;AAAA,QAEA;AACAE,IAAAA,YAAY,GAAG,SAAfA,YAAe,CAACC,KAAD,EAAW;AAEtB;AACA,UAAMC,mBAAmB,GAAGD,KAAK,CAACE,MAAN,CAAaC,SAAzC;AACA,UAAIC,cAAJ;;AAEI,UAAIH,mBAAmB,IAAI,uBAAvB,IAAkDA,mBAAmB,IAAI,mBAAzE,IAAgGA,mBAAmB,IAAI,WAA3H,EAAwI;AACpIG,QAAAA,cAAc,GAAG,CAAjB;AACH,OAFD,MAEO,IAAIH,mBAAmB,IAAI,yBAAvB,IAAoDA,mBAAmB,IAAI,mBAA3E,IAAkGA,mBAAmB,IAAI,WAA7H,EAA0I;AAC7IG,QAAAA,cAAc,GAAG,CAAjB;AACH,OAViB,CAYtB;;;AACA,UAAMC,OAAO,GAAG,IAAIC,cAAJ,EAAhB;AAEAD,MAAAA,OAAO,CAACE,IAAR,CAAa,KAAb,wCAAmDH,cAAnD,0BAAiFb,YAAjF;;AACAc,MAAAA,OAAO,CAACG,kBAAR,GAA6B,YAAY;AACrC,YAAIH,OAAO,CAACI,UAAR,IAAsB,CAAtB,IAA2BJ,OAAO,CAACK,MAAR,IAAkB,GAAjD,EAAsD;AAC9CpB,UAAAA,aAAa,CAACqB,SAAd,GAA0BN,OAAO,CAACO,YAAlC;AACA9B,UAAAA,SAAS,CAACC,YAAV;AACAD,UAAAA,SAAS,CAAC+B,WAAV;AACA/B,UAAAA,SAAS,CAACgC,SAAV;AACAhC,UAAAA,SAAS,CAACiC,QAAV;AACH;AACJ,OARL;;AASIV,MAAAA,OAAO,CAACW,IAAR;AACH,KA7BL,CAVgC,CAyChC;;;AACA,QAAI/B,QAAQ,CAACgC,gBAAb,EAA+B;AAC3BpC,MAAAA,MAAM,CAACoC,gBAAP,CAAwB,QAAxB,EAAkCxB,gBAAlC;AACAN,MAAAA,YAAY,CAAC8B,gBAAb,CAA8B,OAA9B,EAAuClB,YAAvC;AACAX,MAAAA,YAAY,CAAC6B,gBAAb,CAA8B,OAA9B,EAAuClB,YAAvC;AACH,KAJD,MAIOmB,OAAO,CAACC,GAAR,CAAY,6CAAZ;AACV,GA/CD;;AAiDArC,EAAAA,SAAS,CAACC,YAAV;AAEAF,EAAAA,MAAM,CAACC,SAAP,GAAmBA,SAAnB;AAEH,CAzDD,EAyDGD,MAzDH","sourcesContent":["(function (window) {\r\n\r\n    const joyBricks = window.joyBricks;\r\n\r\n    joyBricks.priceSorting = function() {\r\n        const sort_div = document.querySelector('.price-sort'),\r\n        sort_asc_btn = document.querySelector('.price-asc'),\r\n        sort_dsc_btn = document.querySelector('.price-dsc'),\r\n        slider = document.querySelector(\".price-filter-slider\"),\r\n        section_intro = document.querySelector(\".intro\"),\r\n\r\n        slider_value = slider.value;\r\n\r\n        //Visibility\r\n        const sort_div_display = () => sort_div.style.display = (document.body.scrollTop > 450 || document.documentElement.scrollTop > 450) ? \"block\" : \"none\",\r\n\r\n        //AJAX Request\r\n        send_request = (event) => {\r\n\r\n            //Defining sorting action\r\n            const selectedButtonClass = event.target.className;\r\n            let current_action;\r\n\r\n                if (selectedButtonClass == \"fas fa-sort-amount-up\" || selectedButtonClass == \"filter-symbol-asc\" || selectedButtonClass == \"price-asc\") {\r\n                    current_action = 1;\r\n                } else if (selectedButtonClass == \"fas fa-sort-amount-down\" || selectedButtonClass == \"filter-symbol-dsc\" || selectedButtonClass == \"price-dsc\") {\r\n                    current_action = 0;\r\n                }\r\n\r\n            //Sending request\r\n            const request = new XMLHttpRequest();\r\n\r\n            request.open(\"GET\", `price-filter.php?price-sort=${current_action}&price-range=${slider_value}`);\r\n            request.onreadystatechange = function () {\r\n                if (request.readyState == 4 && request.status == 200) {\r\n                        section_intro.innerHTML = request.responseText;\r\n                        joyBricks.priceSorting();\r\n                        joyBricks.priceFilter();\r\n                        joyBricks.addToCart();\r\n                        joyBricks.scroller();\r\n                    }\r\n                };\r\n                request.send();\r\n            };\r\n\r\n        //Registering handlers\r\n        if (document.addEventListener) {\r\n            window.addEventListener(\"scroll\", sort_div_display);\r\n            sort_asc_btn.addEventListener(\"click\", send_request);\r\n            sort_dsc_btn.addEventListener(\"click\", send_request);\r\n        } else console.log(\"Method 'addEventListener' cannot be applied\");\r\n    };\r\n\r\n    joyBricks.priceSorting();\r\n\r\n    window.joyBricks = joyBricks;\r\n\r\n})(window);"],"file":"price-sorting.js"}